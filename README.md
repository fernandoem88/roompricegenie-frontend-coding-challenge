# RoomPriceGenie Frontend Coding Challenge

## Overview

In RoomPriceGenie we distinguish between a reference room type and derived room types. At the core is the base price of a room. In addition, the pricing strategy can deeply influence the price of the room for each day. RoomPriceGenie calculates the daily recommended price for each room type and can upload the price to the PMS **for hotels all across various timezones**.

You are being tasked with creating a pricing calendar for a revenue management system that displays and compares room prices across the calendar dates. The environment is setup with a local development server that proxies API requests to a mock API. The idea of the challenge is to simulate a real-world development environment with a local server and a remote backend. This challenge is similar to how we work at RoomPriceGenie. The data is generated by the API endpoints in the `./api/index.ts` file and it is a tiny subset of data we use daily for our revenue management system.

## Setup

The project comes with the following packages and libraries:

- React 18
- TypeScript
- Biome for linting and formatting (configured for VSCode)
- Vinxi for the development server
- TanStack Query (React Query)
- date-fns and @date-fns/tz for timezone-aware date manipulation
- Mantine UI Components
- Tailwind CSS
- @tabler/icons-react for icons

### Mantine Components

We appreciate that developing UI components can be time-consuming and the initial setup is there to help you focus on the core functionality. Tailwind CSS is also configured for styling and can be used alongside Mantine components. Feel free to use any Mantine components that might be helpful. Some relevant components include:

- `<Select />` for room type selection
- `<Button />` and `<ActionIcon />` for calendar navigation
- `<Text />` for price display
- `<LoadingOverlay />` for loading states

*Mantine documentation can be found here: <https://mantine.dev/>*

The project includes `@tabler/icons-react` for icons. Some useful icons:

- `<IconChevronLeft />` / `<IconChevronRight />` for calendar navigation
- `<IconAlertTriangle />` for error states
- `<IconCalendar />` for calendar-related UI elements

*A complete list of icons can be found here: <https://tabler.io/icons>*

## Time Expectation

This challenge is designed to be completed in 3 hours.

## API Endpoints

The application provides two main endpoints:

1. `/api/prices`
Returns pricing data for all rooms for the next 365 days, including:

- Recommended price
- Price in PMS
- Error states
- Last pricing run time

Reference the type definition here:

```typescript
export type PriceData = {
  currency: {
    symbol: string;
    code: string;
  };
  prices: {
    data: {
      [key: string]: {
        [key: string]: {
          error?: boolean;
          error_reason?: string;
          price: number;
          price_in_pms: number | null;
        };
      };
    };
    last_run_pricing_time: string;
  };
}
```

1. `/api/settings`
Returns hotel configuration including:

- Timezone
- Locale
- Room configurations (reference and derived rooms)

Reference the type definition here:

```typescript
export type SettingsData = {
  hotel: {
    timezone: string;
    locale: string;
  };
  rooms: {
    derived: {
      [key: string]: {
        name: string;
      };
    };
    reference: {
      id: number;
      name: string;
    };
  };
}
```

## Basic Requirements

### 1. Pricing Calendar Implementation

Create a calendar component that displays:

- Price of the room for the day
- Price in PMS (Property Management System)
- Currency symbol and formatting according to the hotel's locale
- Highlight price differences (positive or negative) greater or equal to 4% between the current price and the price in PMS

### 2. Calendar Navigation

- Display current month by default
- Implement previous/next month navigation
- Ensure proper date formatting according to hotel's locale

### 3. Data Fetching

- Use TanStack Query (React Query) for API calls
- Handle loading and error states appropriately

#### API Usage Example

```typescript
import type { PriceData, SettingsData } from "../../types";

export const getPrices = async () => {
  const response = await fetch("/api/prices");

  if (!response.ok) {
    throw new Error("Failed to fetch prices");
  }

  return response.json() as Promise<PriceData>;
};

export const getSettings = async () => {
  const response = await fetch("/api/settings");

  if (!response.ok) {
    throw new Error("Failed to fetch settings");
  }

  return response.json() as Promise<SettingsData>;
};
```

## Getting Started

**Please use Node.js v20 and up.**

1. Install dependencies:

```bash
npm install
```

2. Start the development server:

```bash
npm run dev
```

## Evaluation Criteria

- Code organisation and cleanliness
- Proper TypeScript usage
- React best practices and performance optimisations
- UI/UX considerations
- Error handling

Good luck with your implementation! Feel free to ask any questions if you need clarification.
